<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>customizing the output from `plot_interaction()` • modsem</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="customizing the output from `plot_interaction()`">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">modsem</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.15</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/modsem.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/customize_plot_interactions.html">customizing the output from `plot_interaction()`</a></li>
    <li><a class="dropdown-item" href="../articles/customizing.html">customizing interaction terms</a></li>
    <li><a class="dropdown-item" href="../articles/estimation_lms.html">estimation alternatives using the LMS approach</a></li>
    <li><a class="dropdown-item" href="../articles/fit_measures_da.html">fit measures for LMS and QML</a></li>
    <li><a class="dropdown-item" href="../articles/higher_order_interactions.html">higher order interactions</a></li>
    <li><a class="dropdown-item" href="../articles/interaction_two_etas.html">interaction effects between endogenous variables</a></li>
    <li><a class="dropdown-item" href="../articles/lavaan.html">using lavaan functions</a></li>
    <li><a class="dropdown-item" href="../articles/lms_qml.html">LMS and QML approaches</a></li>
    <li><a class="dropdown-item" href="../articles/meanstructure_lms_qml.html">non-centered interaction terms (LMS and QML)</a></li>
    <li><a class="dropdown-item" href="../articles/methods.html">methods</a></li>
    <li><a class="dropdown-item" href="../articles/missing_lms_qml.html">missing data in the LMS and QML approaches</a></li>
    <li><a class="dropdown-item" href="../articles/observed_lms_qml.html">observed variables in the LMS- and QML approach</a></li>
    <li><a class="dropdown-item" href="../articles/plot_interactions.html">plotting interaction effects</a></li>
    <li><a class="dropdown-item" href="../articles/quadratic.html">quadratic effects</a></li>
    <li><a class="dropdown-item" href="../articles/relcorr_items.html">reliability-corrected single items</a></li>
    <li><a class="dropdown-item" href="../articles/simple_slopes.html">simple slopes analysis</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>customizing the output from `plot_interaction()`</h1>
            
      

      <div class="d-none name"><code>customize_plot_interactions.Rmd</code></div>
    </div>

    
    
<p>Since <code><a href="../reference/plot_interaction.html">plot_interaction()</a></code> just returns a
<code>ggplot</code> object, the output be customized using a combination
of different <code>ggplot2</code> functions.</p>
<div class="section level2">
<h2 id="baseline-plot">Baseline Plot<a class="anchor" aria-label="anchor" href="#baseline-plot"></a>
</h2>
<p>Here we fit a simple model, and create a baseline plot, which we’ll
customize.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://modsem.org" class="external-link">modsem</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; This is modsem (1.0.15). Please report any bugs!</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="st">'</span></span>
<span><span class="st">X =~ x1 + x2 + x3</span></span>
<span><span class="st">Z =~ z1 + z2 + z3</span></span>
<span><span class="st">Y =~ y1 + y2 + y3</span></span>
<span><span class="st"></span></span>
<span><span class="st">Y ~ X + Z + X:Z</span></span>
<span><span class="st">'</span></span>
<span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">m</span>, data <span class="op">=</span> <span class="va">oneInt</span>, method <span class="op">=</span> <span class="st">"lms"</span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_interaction.html">plot_interaction</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"X"</span>, z <span class="op">=</span> <span class="st">"Z"</span>, y <span class="op">=</span> <span class="st">"Y"</span>, vals_z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, model <span class="op">=</span> <span class="va">fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/model-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="changing-titles-and-labels">Changing Titles and Labels<a class="anchor" aria-label="anchor" href="#changing-titles-and-labels"></a>
</h2>
<div class="section level3">
<h3 id="title">Title<a class="anchor" aria-label="anchor" href="#title"></a>
</h3>
<p>The title of the plot can be changed using the <code><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle()</a></code>
function.</p>
<p><img src="customize_plot_interactions_files/figure-html/plot-title-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="axis-labels">Axis Labels<a class="anchor" aria-label="anchor" href="#axis-labels"></a>
</h3>
<p>The axis labels can be changed using the <code><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab()</a></code> and
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab()</a></code> functions.</p>
<p><img src="customize_plot_interactions_files/figure-html/axis-labels-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="legend-title">Legend Title<a class="anchor" aria-label="anchor" href="#legend-title"></a>
</h3>
<p>Changing the legend title is a bit trickier, but it can be done using
the <code><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides()</a></code> function. Since
<code><a href="../reference/plot_interaction.html">plot_interaction()</a></code> uses both the <code>fill</code> and
<code>color</code> aesthetic, both must be specified, with the same
title.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>fill<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html" class="external-link">guide_legend</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"New Legend Title"</span><span class="op">)</span>,</span>
<span>           color<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html" class="external-link">guide_legend</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"New Legend Title"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="changing-colors">Changing Colors<a class="anchor" aria-label="anchor" href="#changing-colors"></a>
</h2>
<p>The colors of both the <code>fill</code> and <code>color</code>
aesthetic can be changed using different functions.</p>
<div class="section level3">
<h3 id="greyscale">Greyscale<a class="anchor" aria-label="anchor" href="#greyscale"></a>
</h3>
<p>Here we replace the <code>fill</code> aesthetic with a greyscale.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html" class="external-link">scale_fill_grey</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-3-1.png" width="700">
Here we do the same for the <code>color</code> aesthetic.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html" class="external-link">scale_color_grey</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>Combining both, we get a greyscale version of the plot.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html" class="external-link">scale_color_grey</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html" class="external-link">scale_fill_grey</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p><strong>NOTE</strong>: As of version <code>1.0.14</code> there is a
separate <code>greyscale</code> argument, for using a greyscale theme,
simplifying the process.</p>
</div>
<div class="section level3">
<h3 id="brewer-color-palettes">Brewer Color palettes<a class="anchor" aria-label="anchor" href="#brewer-color-palettes"></a>
</h3>
<p><code>ggplot2</code> comes with a few different color palettes, which
we can use to the replace the default color palette. Here we have
numerous options (you can also download additional packages), but here
we can see a few examples using some of the <code>brewer</code>
palettes.</p>
<p>To see the available palettes you can run this snippet.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># You might need to install the `RColorBrewer` package</span></span>
<span><span class="fu">RColorBrewer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">display.brewer.all</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-6-1.png" width="768"></p>
<p>Here we have an example using the <code>Dark2</code> palette.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We need to apply the color scale to both the fill and color aesthetics</span></span>
<span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>Here we have an example using the <code>Accent</code> palette.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We need to apply the color scale to both the fill and color aesthetics</span></span>
<span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Accent"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Accent"</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="custom-color-palettes">Custom Color Palettes<a class="anchor" aria-label="anchor" href="#custom-color-palettes"></a>
</h3>
<p>It is also possible to use custom/manual color palettes, but this is
more cumbersome. Here we see an example.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">custom_colors</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">custom_colors</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">custom_colors</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="changing-line-types">Changing Line types<a class="anchor" aria-label="anchor" href="#changing-line-types"></a>
</h2>
<p>Changing the linetypes is a more compliacted than changing the colors
in the plot. This is because we have to add a whole new aesthetic to the
plot. This can done using the <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes()</a></code> function. Behind the
scenes, <code>modsem</code> uses a variable <code>cat_z</code> to form
the groups in the output from <code>plot_interaction</code>, which is
why we pass <code>linetype = cat_z</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>linetype <span class="op">=</span> <span class="va">cat_z</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-10-1.png" width="700">
Here we can see that we had an unfortunate side effect, where we created
a second Legend in our plot. This can however be fixed by renaming the
Legend title (see the <a href="#legend-title">Legend Title</a>
section).</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>linetype <span class="op">=</span> <span class="va">cat_z</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>linetype <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html" class="external-link">guide_legend</a></span><span class="op">(</span><span class="st">"Z"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="combinations">Combinations<a class="anchor" aria-label="anchor" href="#combinations"></a>
</h2>
<p>Here we can see an example combining the different options.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Customized Plot"</span><span class="op">)</span> <span class="op">+</span> <span class="co"># New Title</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Values of X"</span><span class="op">)</span> <span class="op">+</span> <span class="co"># New X-axis label</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Predicted values of Y"</span><span class="op">)</span> <span class="op">+</span> <span class="co"># New y-axis label</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html" class="external-link">scale_color_grey</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Add Grey theem</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html" class="external-link">scale_fill_grey</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>linetype <span class="op">=</span> <span class="va">cat_z</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Add linetypes</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color    <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html" class="external-link">guide_legend</a></span><span class="op">(</span><span class="st">"Values of Z"</span><span class="op">)</span>, <span class="co"># Change Legend Title</span></span>
<span>         fill     <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html" class="external-link">guide_legend</a></span><span class="op">(</span><span class="st">"Values of Z"</span><span class="op">)</span>,</span>
<span>         linetype <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html" class="external-link">guide_legend</a></span><span class="op">(</span><span class="st">"Values of Z"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="customize_plot_interactions_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kjell Solem Slupphaug.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
