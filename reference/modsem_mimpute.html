<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate a modsem model using multiple imputation — modsem_mimpute • modsem</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate a modsem model using multiple imputation — modsem_mimpute"><meta name="description" content="Estimate a modsem model using multiple imputation"><meta property="og:description" content="Estimate a modsem model using multiple imputation"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">modsem</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.12</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/modsem.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/customizing.html">customizing interaction terms</a></li>
    <li><a class="dropdown-item" href="../articles/estimation_lms.html">estimation alternatives using the LMS approach</a></li>
    <li><a class="dropdown-item" href="../articles/fit_measures_da.html">fit measures for LMS and QML</a></li>
    <li><a class="dropdown-item" href="../articles/higher_order_interactions.html">higher order interactions</a></li>
    <li><a class="dropdown-item" href="../articles/interaction_two_etas.html">interaction effects between endogenous variables</a></li>
    <li><a class="dropdown-item" href="../articles/lavaan.html">using lavaan functions</a></li>
    <li><a class="dropdown-item" href="../articles/lms_qml.html">LMS and QML approaches</a></li>
    <li><a class="dropdown-item" href="../articles/meanstructure_lms_qml.html">non-centered interaction terms (LMS and QML)</a></li>
    <li><a class="dropdown-item" href="../articles/methods.html">methods</a></li>
    <li><a class="dropdown-item" href="../articles/missing_lms_qml.html">missing data in the LMS and QML approaches</a></li>
    <li><a class="dropdown-item" href="../articles/observed_lms_qml.html">observed variables in the LMS- and QML approach</a></li>
    <li><a class="dropdown-item" href="../articles/plot_interactions.html">plotting interaction effects</a></li>
    <li><a class="dropdown-item" href="../articles/quadratic.html">quadratic effects</a></li>
    <li><a class="dropdown-item" href="../articles/relcorr_items.html">reliability-corrected single items</a></li>
    <li><a class="dropdown-item" href="../articles/simple_slopes.html">simple slopes analysis</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate a <code>modsem</code> model using multiple imputation</h1>

      <div class="d-none name"><code>modsem_mimpute.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Estimate a <code>modsem</code> model using multiple imputation</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">modsem_mimpute</span><span class="op">(</span></span>
<span>  <span class="va">model.syntax</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"lms"</span>,</span>
<span>  m <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"simple"</span>, <span class="st">"full"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model-syntax">model.syntax<a class="anchor" aria-label="anchor" href="#arg-model-syntax"></a></dt>
<dd><p><code>lavaan</code> syntax</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A dataframe with observed variables used in the model.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Method to use:</p><dl><dt><code>"lms"</code></dt>
<dd><p>latent moderated structural equations (not passed to <code>lavaan</code>).</p></dd>

  <dt><code>"qml"</code></dt>
<dd><p>quasi maximum likelihood estimation (not passed to <code>lavaan</code>).</p></dd>


</dl></dd>


<dt id="arg-m">m<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>Number of imputations to perform. More imputations will yield better estimates
but can also be (a lot) slower.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Should progress be printed to the console?</p></dd>


<dt id="arg-se">se<a class="anchor" aria-label="anchor" href="#arg-se"></a></dt>
<dd><p>How should corrected standard errors be computed? Alternatives are:</p><dl><dt><code>"simple"</code></dt>
<dd><p>Uncorrected standard errors are only calculated once, in the first imputation.
                         The standard errors are thereafter corrected using the distribution of the
                         estimated coefficients from the different imputations.</p></dd>

  <dt><code>"full"</code></dt>
<dd><p>Uncorrected standard errors are calculated and aggregated for each imputation.
                       This can give more accurate results, but can be (a lot) slower.
                       The standard errors are thereafter corrected using the distribution of the
                       estimated coefficients from the different imputations.</p></dd>


</dl></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed to <code><a href="modsem.html">modsem</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>modsem_impute</code> is currently only available for the DA approaches
 (LMS and QML). It performs multiple imputation using <code><a href="https://rdrr.io/pkg/Amelia/man/amelia.html" class="external-link">Amelia::amelia</a></code>
 and returns aggregated coefficients from the multiple imputations, along with
 corrected standard errors.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="st">'</span></span></span>
<span class="r-in"><span><span class="st">  # Outer Model</span></span></span>
<span class="r-in"><span><span class="st">  X =~ x1 + x2 +x3</span></span></span>
<span class="r-in"><span><span class="st">  Y =~ y1 + y2 + y3</span></span></span>
<span class="r-in"><span><span class="st">  Z =~ z1 + z2 + z3</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  # Inner model</span></span></span>
<span class="r-in"><span><span class="st">  Y ~ X + Z + X:Z</span></span></span>
<span class="r-in"><span><span class="st">'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">oneInt2</span> <span class="op">&lt;-</span> <span class="va">oneInt</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">k</span> <span class="op">&lt;-</span> <span class="fl">200</span></span></span>
<span class="r-in"><span><span class="va">I</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">oneInt2</span><span class="op">)</span>, <span class="va">k</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">oneInt2</span><span class="op">)</span>, <span class="va">k</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">k_i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">I</span><span class="op">)</span><span class="op">)</span> <span class="va">oneInt2</span><span class="op">[</span><span class="va">I</span><span class="op">[</span><span class="va">k_i</span><span class="op">]</span>, <span class="va">J</span><span class="op">[</span><span class="va">k_i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu">modsem_mimpute</span><span class="op">(</span><span class="va">m1</span>, <span class="va">oneInt2</span>, m <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> modsem (1.0.12) ended normally after 328 iterations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Estimator                                        LMS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Optimization method                       EMA-NLMINB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of model parameters                        31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of observations                          2000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Loglikelihood and Information Criteria:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Loglikelihood                              -17494.52</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Akaike (AIC)                                35051.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Bayesian (BIC)                              35224.67</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Numerical Integration:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Points of integration (per dim)                   24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Dimensions                                         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Total points of integration                       24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fit Measures for Baseline Model (H0):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Loglikelihood                              -17845.54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Akaike (AIC)                                35751.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Bayesian (BIC)                               35919.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Chi-square                                     18.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Degrees of Freedom (Chi-square)                   24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   P-value (Chi-square)                           0.793</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   RMSEA                                          0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SRMR                                           0.005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comparative Fit to H0 (LRT test):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Loglikelihood change                          351.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Difference test (D)                           702.03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Degrees of freedom (D)                             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   P-value (D)                                    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R-Squared Interaction Model (H1):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Y                                              0.598</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R-Squared Baseline Model (H0):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Y                                              0.396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R-Squared Change (H1 - H0):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Y                                              0.202</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Parameter Estimates:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Coefficients                          unstandardized</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Information                   Rubin-corrected (m=25)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Standard errors                             standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Latent Variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Estimate  Std.Error  z.value  P(&gt;|z|)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   X =~          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x1              1.000                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x2              0.804      0.013   63.357    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x3              0.910      0.014   66.726    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Z =~          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     z1              1.000                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     z2              0.812      0.012   65.237    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     z3              0.883      0.013   67.591    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Y =~          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y1              1.000                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y2              0.800      0.008  105.852    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y3              0.899      0.008  110.897    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Regressions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Estimate  Std.Error  z.value  P(&gt;|z|)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Y ~           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     X               0.671      0.031   21.649    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Z               0.570      0.030   18.821    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     X:Z             0.717      0.028   25.876    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Intercepts:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Estimate  Std.Error  z.value  P(&gt;|z|)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .x1              1.023      0.024   42.681    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .x2              1.211      0.020   60.452    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .x3              0.917      0.022   41.343    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .z1              1.011      0.024   41.507    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .z2              1.203      0.020   58.957    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .z3              0.916      0.022   41.968    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .y1              1.038      0.033   31.463    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .y2              1.220      0.027   45.271    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .y3              0.953      0.030   31.791    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Covariances:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Estimate  Std.Error  z.value  P(&gt;|z|)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   X ~~          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Z               0.199      0.024    8.196    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variances:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Estimate  Std.Error  z.value  P(&gt;|z|)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .x1              0.157      0.009   17.895    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .x2              0.161      0.007   22.750    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .x3              0.165      0.008   20.227    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .z1              0.167      0.009   18.486    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .z2              0.159      0.007   22.440    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .z3              0.158      0.008   20.620    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .y1              0.160      0.009   17.839    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .y2              0.154      0.007   22.181    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .y3              0.165      0.008   20.459    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     X               0.982      0.036   26.920    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Z               1.015      0.038   26.839    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .Y               0.980      0.038   26.085    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kjell Solem Slupphaug.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

