% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/reliablity_single_item.R
\name{relcorr_single_item}
\alias{relcorr_single_item}
\title{Reliability‑Corrected Single‑Item SEM}
\usage{
relcorr_single_item(syntax, data, choose = NULL, type = c("cr", "ca"))
}
\arguments{
\item{syntax}{A character string containing lavaan model syntax.  Must at
least include the measurement relations (`=~`).}

\item{data}{A `data.frame`, `tibble` or object coercible to a data frame that
holds the raw observed indicators.}

\item{choose}{*Optional.* Character vector with the names of the latent
variables you wish to replace by single indicators.  Defaults to **all**
first‑order latent variables in `syntax`.}

\item{type}{Which reliability estimate to apply when splitting latent versus
error variance.  One of:  \describe{\item{"cr"}{Composite reliability (also
called construct reliability or Dillon‑Goldstein \eqn{\rho_c}; **default**)}
\item{"ca"}{Cronbach's \eqn{\alpha}}}  The argument is case‑insensitive and
partially matched.}
}
\value{
An object of S3 class `modsem_relcorr` (a named list) with elements:
\describe{
  \item{`syntax`}{Modified lavaan syntax string.}
  \item{`data`}{Data frame with additional composite indicator columns.}
  \item{`parTable`}{Parameter table corresponding to `syntax`.}
  \item{`reliability`}{Named numeric vector of reliabilities (one per latent
    variable).}
  \item{`AVE`}{Named numeric vector with Average Variance Extracted values.}
  \item{`lVs`}{Character vector of latent variables that were corrected.}
  \item{`type`}{Reliability type actually used ("cr" or "ca").}}
}
\description{
Replace (some of) the first‑order latent variables in a lavaan measurement
model by **single composite indicators whose error variances are fixed from
an external reliability coefficient** (Cronbach's \eqn{\alpha} or composite
reliability \eqn{\rho_c}).  The function returns a modified lavaan model
syntax together with an augmented data set that contains the newly created
composite variables, so that you can fit the full SEM in a single step.
}
\details{
The resulting object can be fed directly into `modsem` or `lavaan::sem`
by supplying `syntax = $syntax` and `data = $data`.
}
\examples{
\dontrun{
tpb_uk <- "
# Outer Model (Based on Hagger et al., 2007)
 ATT =~ att3 + att2 + att1 + att4
 SN =~ sn4 + sn2 + sn3 + sn1
 PBC =~ pbc2 + pbc1 + pbc3 + pbc4
 INT =~ int2 + int1 + int3 + int4
 BEH =~ beh3 + beh2 + beh1 + beh4

# Inner Model (Based on Steinmetz et al., 2011)
 INT ~ ATT + SN + PBC
 BEH ~ INT + PBC
 BEH ~ INT:PBC
"

corrected <- relcorr_single_item(syntax = tpb_uk, data = TPB_UK, 
                                 type="ca") # cr can be chosen
print(corrected)

syntax <- corrected$syntax
data   <- corrected$data

est_dca <- modsem(syntax, data = data, method = "dblcent")
est_lms <- modsem(syntax, data = data, method="lms", nodes=32)
}

}
