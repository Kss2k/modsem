<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>modsem • modsem</title>
<script src="../deps/jquery-3.6.1/jquery-3.6.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="modsem">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">modsem</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/modsem.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/customizing.html">customizing interaction terms</a></li>
    <li><a class="dropdown-item" href="../articles/higher_order_interactions.html">Higher order interactions</a></li>
    <li><a class="dropdown-item" href="../articles/interaction_two_etas.html">interaction effects between endogenous variables</a></li>
    <li><a class="dropdown-item" href="../articles/lavaan.html">using lavaan functions</a></li>
    <li><a class="dropdown-item" href="../articles/lms_qml.html">LMS and QML approaches</a></li>
    <li><a class="dropdown-item" href="../articles/methods.html">methods</a></li>
    <li><a class="dropdown-item" href="../articles/observed_lms_qml.html">observed variables in the LMS- and QML approach</a></li>
    <li><a class="dropdown-item" href="../articles/plot_interactions.html">plotting interaction effects</a></li>
    <li><a class="dropdown-item" href="../articles/quadratic.html">quadratic effects</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Kss2k/modsem/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>modsem</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Kss2k/modsem/blob/main/vignettes/modsem.Rmd" class="external-link"><code>vignettes/modsem.Rmd</code></a></small>
      <div class="d-none name"><code>modsem.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Kss2k/modsem" class="external-link">modsem</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="the-basic-syntax">The Basic Syntax<a class="anchor" aria-label="anchor" href="#the-basic-syntax"></a>
</h2>
<p><code>modsem</code> introduces a new feature to the
<code>lavaan</code> syntax—the semicolon operator (<code>:</code>). The
semicolon operator works the same way as in the <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>
function. To specify an interaction effect between two variables, you
join them by <code>Var1:Var2</code>.</p>
<p>Models can be estimated using one of the product indicator approaches
(<code>"ca"</code>, <code>"rca"</code>, <code>"dblcent"</code>,
<code>"pind"</code>) or by using the latent moderated structural
equations approach (<code>"lms"</code>) or the quasi maximum likelihood
approach (<code>"qml"</code>). The product indicator approaches are
estimated via <code>lavaan</code>, while the <code>lms</code> and
<code>qml</code> approaches are estimated via <code>modsem</code>
itself.</p>
<div class="section level3">
<h3 id="a-simple-example">A Simple Example<a class="anchor" aria-label="anchor" href="#a-simple-example"></a>
</h3>
<p>Here is a simple example of how to specify an interaction effect
between two latent variables in <code>lavaan</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="st">'</span></span>
<span><span class="st">  # Outer Model</span></span>
<span><span class="st">  X =~ x1 + x2 + x3</span></span>
<span><span class="st">  Y =~ y1 + y2 + y3</span></span>
<span><span class="st">  Z =~ z1 + z2 + z3</span></span>
<span><span class="st">  </span></span>
<span><span class="st">  # Inner Model</span></span>
<span><span class="st">  Y ~ X + Z + X:Z </span></span>
<span><span class="st">'</span></span>
<span></span>
<span><span class="va">est1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">m1</span>, <span class="va">oneInt</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est1</span><span class="op">)</span></span>
<span><span class="co">#&gt; modsem (version 1.0.4, approach = dblcent):</span></span>
<span><span class="co">#&gt; lavaan 0.6-19 ended normally after 159 iterations</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Estimator                                         ML</span></span>
<span><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span><span class="co">#&gt;   Number of model parameters                        60</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Number of observations                          2000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Test User Model:</span></span>
<span><span class="co">#&gt;                                                       </span></span>
<span><span class="co">#&gt;   Test statistic                               122.924</span></span>
<span><span class="co">#&gt;   Degrees of freedom                               111</span></span>
<span><span class="co">#&gt;   P-value (Chi-square)                           0.207</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Estimates:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Standard errors                             Standard</span></span>
<span><span class="co">#&gt;   Information                                 Expected</span></span>
<span><span class="co">#&gt;   Information saturated (h1) model          Structured</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Latent Variables:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   X =~                                                </span></span>
<span><span class="co">#&gt;     x1                1.000                           </span></span>
<span><span class="co">#&gt;     x2                0.804    0.013   63.612    0.000</span></span>
<span><span class="co">#&gt;     x3                0.916    0.014   67.144    0.000</span></span>
<span><span class="co">#&gt;   Y =~                                                </span></span>
<span><span class="co">#&gt;     y1                1.000                           </span></span>
<span><span class="co">#&gt;     y2                0.798    0.007  107.428    0.000</span></span>
<span><span class="co">#&gt;     y3                0.899    0.008  112.453    0.000</span></span>
<span><span class="co">#&gt;   Z =~                                                </span></span>
<span><span class="co">#&gt;     z1                1.000                           </span></span>
<span><span class="co">#&gt;     z2                0.812    0.013   64.763    0.000</span></span>
<span><span class="co">#&gt;     z3                0.882    0.013   67.014    0.000</span></span>
<span><span class="co">#&gt;   XZ =~                                               </span></span>
<span><span class="co">#&gt;     x1z1              1.000                           </span></span>
<span><span class="co">#&gt;     x2z1              0.805    0.013   60.636    0.000</span></span>
<span><span class="co">#&gt;     x3z1              0.877    0.014   62.680    0.000</span></span>
<span><span class="co">#&gt;     x1z2              0.793    0.013   59.343    0.000</span></span>
<span><span class="co">#&gt;     x2z2              0.646    0.015   43.672    0.000</span></span>
<span><span class="co">#&gt;     x3z2              0.706    0.016   44.292    0.000</span></span>
<span><span class="co">#&gt;     x1z3              0.887    0.014   63.700    0.000</span></span>
<span><span class="co">#&gt;     x2z3              0.716    0.016   45.645    0.000</span></span>
<span><span class="co">#&gt;     x3z3              0.781    0.017   45.339    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   Y ~                                                 </span></span>
<span><span class="co">#&gt;     X                 0.675    0.027   25.379    0.000</span></span>
<span><span class="co">#&gt;     Z                 0.561    0.026   21.606    0.000</span></span>
<span><span class="co">#&gt;     XZ                0.702    0.027   26.360    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Covariances:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;  .x1z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x2z2              0.000                           </span></span>
<span><span class="co">#&gt;    .x2z3              0.000                           </span></span>
<span><span class="co">#&gt;    .x3z2              0.000                           </span></span>
<span><span class="co">#&gt;    .x3z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x2z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x1z2              0.000                           </span></span>
<span><span class="co">#&gt;  .x1z2 ~~                                             </span></span>
<span><span class="co">#&gt;    .x2z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x3z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x1z2              0.000                           </span></span>
<span><span class="co">#&gt;  .x1z2 ~~                                             </span></span>
<span><span class="co">#&gt;    .x3z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x2z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x1z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x2z2 ~~                                             </span></span>
<span><span class="co">#&gt;    .x1z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x3z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x1z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x3z2 ~~                                             </span></span>
<span><span class="co">#&gt;    .x1z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x2z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x3z2              0.000                           </span></span>
<span><span class="co">#&gt;    .x3z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x3z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x2z2              0.000                           </span></span>
<span><span class="co">#&gt;  .x2z2 ~~                                             </span></span>
<span><span class="co">#&gt;    .x3z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x3z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x2z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x3z2 ~~                                             </span></span>
<span><span class="co">#&gt;    .x2z3              0.000                           </span></span>
<span><span class="co">#&gt;  .x1z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x1z2              0.115    0.008   14.802    0.000</span></span>
<span><span class="co">#&gt;    .x1z3              0.114    0.008   13.947    0.000</span></span>
<span><span class="co">#&gt;    .x2z1              0.125    0.008   16.095    0.000</span></span>
<span><span class="co">#&gt;    .x3z1              0.140    0.009   16.135    0.000</span></span>
<span><span class="co">#&gt;  .x1z2 ~~                                             </span></span>
<span><span class="co">#&gt;    .x1z3              0.103    0.007   14.675    0.000</span></span>
<span><span class="co">#&gt;    .x2z2              0.128    0.006   20.850    0.000</span></span>
<span><span class="co">#&gt;    .x3z2              0.146    0.007   21.243    0.000</span></span>
<span><span class="co">#&gt;  .x1z3 ~~                                             </span></span>
<span><span class="co">#&gt;    .x2z3              0.116    0.007   17.818    0.000</span></span>
<span><span class="co">#&gt;    .x3z3              0.135    0.007   18.335    0.000</span></span>
<span><span class="co">#&gt;  .x2z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x2z2              0.135    0.006   20.905    0.000</span></span>
<span><span class="co">#&gt;    .x2z3              0.145    0.007   21.145    0.000</span></span>
<span><span class="co">#&gt;    .x3z1              0.114    0.007   16.058    0.000</span></span>
<span><span class="co">#&gt;  .x2z2 ~~                                             </span></span>
<span><span class="co">#&gt;    .x2z3              0.117    0.006   20.419    0.000</span></span>
<span><span class="co">#&gt;    .x3z2              0.116    0.006   20.586    0.000</span></span>
<span><span class="co">#&gt;  .x2z3 ~~                                             </span></span>
<span><span class="co">#&gt;    .x3z3              0.109    0.006   18.059    0.000</span></span>
<span><span class="co">#&gt;  .x3z1 ~~                                             </span></span>
<span><span class="co">#&gt;    .x3z2              0.138    0.007   19.331    0.000</span></span>
<span><span class="co">#&gt;    .x3z3              0.158    0.008   20.269    0.000</span></span>
<span><span class="co">#&gt;  .x3z2 ~~                                             </span></span>
<span><span class="co">#&gt;    .x3z3              0.131    0.007   19.958    0.000</span></span>
<span><span class="co">#&gt;   X ~~                                                </span></span>
<span><span class="co">#&gt;     Z                 0.201    0.024    8.271    0.000</span></span>
<span><span class="co">#&gt;     XZ                0.016    0.025    0.628    0.530</span></span>
<span><span class="co">#&gt;   Z ~~                                                </span></span>
<span><span class="co">#&gt;     XZ                0.062    0.025    2.449    0.014</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;    .x1                0.160    0.009   17.871    0.000</span></span>
<span><span class="co">#&gt;    .x2                0.162    0.007   22.969    0.000</span></span>
<span><span class="co">#&gt;    .x3                0.163    0.008   20.161    0.000</span></span>
<span><span class="co">#&gt;    .y1                0.159    0.009   17.896    0.000</span></span>
<span><span class="co">#&gt;    .y2                0.154    0.007   22.640    0.000</span></span>
<span><span class="co">#&gt;    .y3                0.164    0.008   20.698    0.000</span></span>
<span><span class="co">#&gt;    .z1                0.168    0.009   18.143    0.000</span></span>
<span><span class="co">#&gt;    .z2                0.158    0.007   22.264    0.000</span></span>
<span><span class="co">#&gt;    .z3                0.158    0.008   20.389    0.000</span></span>
<span><span class="co">#&gt;    .x1z1              0.311    0.014   22.227    0.000</span></span>
<span><span class="co">#&gt;    .x2z1              0.292    0.011   27.287    0.000</span></span>
<span><span class="co">#&gt;    .x3z1              0.327    0.012   26.275    0.000</span></span>
<span><span class="co">#&gt;    .x1z2              0.290    0.011   26.910    0.000</span></span>
<span><span class="co">#&gt;    .x2z2              0.239    0.008   29.770    0.000</span></span>
<span><span class="co">#&gt;    .x3z2              0.270    0.009   29.117    0.000</span></span>
<span><span class="co">#&gt;    .x1z3              0.272    0.012   23.586    0.000</span></span>
<span><span class="co">#&gt;    .x2z3              0.245    0.009   27.979    0.000</span></span>
<span><span class="co">#&gt;    .x3z3              0.297    0.011   28.154    0.000</span></span>
<span><span class="co">#&gt;     X                 0.981    0.036   26.895    0.000</span></span>
<span><span class="co">#&gt;    .Y                 0.990    0.038   25.926    0.000</span></span>
<span><span class="co">#&gt;     Z                 1.016    0.038   26.856    0.000</span></span>
<span><span class="co">#&gt;     XZ                1.045    0.044   24.004    0.000</span></span></code></pre></div>
<p>By default, the model is estimated using the <code>"dblcent"</code>
method. If you want to use another method, you can change it using the
<code>method</code> argument.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">est1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">m1</span>, <span class="va">oneInt</span>, method <span class="op">=</span> <span class="st">"lms"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est1</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; modsem (version 1.0.4):</span></span>
<span><span class="co">#&gt;   Estimator                                         LMS</span></span>
<span><span class="co">#&gt;   Optimization method                         EM-NLMINB</span></span>
<span><span class="co">#&gt;   Number of observations                           2000</span></span>
<span><span class="co">#&gt;   Number of iterations                               92</span></span>
<span><span class="co">#&gt;   Loglikelihood                               -14687.85</span></span>
<span><span class="co">#&gt;   Akaike (AIC)                                 29437.71</span></span>
<span><span class="co">#&gt;   Bayesian (BIC)                               29611.34</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Numerical Integration:</span></span>
<span><span class="co">#&gt;   Points of integration (per dim)                    24</span></span>
<span><span class="co">#&gt;   Dimensions                                          1</span></span>
<span><span class="co">#&gt;   Total points of integration                        24</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Fit Measures for H0:</span></span>
<span><span class="co">#&gt;   Loglikelihood                                  -17832</span></span>
<span><span class="co">#&gt;   Akaike (AIC)                                 35723.75</span></span>
<span><span class="co">#&gt;   Bayesian (BIC)                               35891.78</span></span>
<span><span class="co">#&gt;   Chi-square                                      17.52</span></span>
<span><span class="co">#&gt;   Degrees of Freedom (Chi-square)                    24</span></span>
<span><span class="co">#&gt;   P-value (Chi-square)                            0.826</span></span>
<span><span class="co">#&gt;   RMSEA                                           0.000</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Comparative fit to H0 (no interaction effect)</span></span>
<span><span class="co">#&gt;   Loglikelihood change                          3144.02</span></span>
<span><span class="co">#&gt;   Difference test (D)                           6288.04</span></span>
<span><span class="co">#&gt;   Degrees of freedom (D)                              1</span></span>
<span><span class="co">#&gt;   P-value (D)                                     0.000</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; R-Squared:</span></span>
<span><span class="co">#&gt;   Y                                               0.596</span></span>
<span><span class="co">#&gt; R-Squared Null-Model (H0):</span></span>
<span><span class="co">#&gt;   Y                                               0.395</span></span>
<span><span class="co">#&gt; R-Squared Change:</span></span>
<span><span class="co">#&gt;   Y                                               0.201</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Estimates:</span></span>
<span><span class="co">#&gt;   Coefficients                           unstandardized</span></span>
<span><span class="co">#&gt;   Information                                  expected</span></span>
<span><span class="co">#&gt;   Standard errors                              standard</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Latent Variables:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   X =~ </span></span>
<span><span class="co">#&gt;     x1               1.000                             </span></span>
<span><span class="co">#&gt;     x2               0.804      0.012    65.27    0.000</span></span>
<span><span class="co">#&gt;     x3               0.915      0.013    68.77    0.000</span></span>
<span><span class="co">#&gt;   Z =~ </span></span>
<span><span class="co">#&gt;     z1               1.000                             </span></span>
<span><span class="co">#&gt;     z2               0.810      0.012    65.55    0.000</span></span>
<span><span class="co">#&gt;     z3               0.881      0.013    69.05    0.000</span></span>
<span><span class="co">#&gt;   Y =~ </span></span>
<span><span class="co">#&gt;     y1               1.000                             </span></span>
<span><span class="co">#&gt;     y2               0.799      0.008   106.30    0.000</span></span>
<span><span class="co">#&gt;     y3               0.899      0.008   112.47    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   Y ~ </span></span>
<span><span class="co">#&gt;     X                0.676      0.032    20.89    0.000</span></span>
<span><span class="co">#&gt;     Z                0.572      0.029    19.53    0.000</span></span>
<span><span class="co">#&gt;     X:Z              0.712      0.027    26.72    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Intercepts:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;     x1               1.025      0.021    48.95    0.000</span></span>
<span><span class="co">#&gt;     x2               1.218      0.018    68.87    0.000</span></span>
<span><span class="co">#&gt;     x3               0.922      0.020    47.18    0.000</span></span>
<span><span class="co">#&gt;     z1               1.016      0.028    36.17    0.000</span></span>
<span><span class="co">#&gt;     z2               1.209      0.023    51.86    0.000</span></span>
<span><span class="co">#&gt;     z3               0.920      0.025    36.75    0.000</span></span>
<span><span class="co">#&gt;     y1               1.046      0.035    29.91    0.000</span></span>
<span><span class="co">#&gt;     y2               1.227      0.029    42.98    0.000</span></span>
<span><span class="co">#&gt;     y3               0.962      0.032    30.17    0.000</span></span>
<span><span class="co">#&gt;     Y                0.000                             </span></span>
<span><span class="co">#&gt;     X                0.000                             </span></span>
<span><span class="co">#&gt;     Z                0.000                             </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Covariances:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   X ~~ </span></span>
<span><span class="co">#&gt;     Z                0.198      0.027     7.23    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;     x1               0.160      0.008    19.63    0.000</span></span>
<span><span class="co">#&gt;     x2               0.163      0.007    24.10    0.000</span></span>
<span><span class="co">#&gt;     x3               0.165      0.008    21.53    0.000</span></span>
<span><span class="co">#&gt;     z1               0.166      0.009    18.74    0.000</span></span>
<span><span class="co">#&gt;     z2               0.160      0.007    22.64    0.000</span></span>
<span><span class="co">#&gt;     z3               0.158      0.008    20.78    0.000</span></span>
<span><span class="co">#&gt;     y1               0.160      0.009    17.98    0.000</span></span>
<span><span class="co">#&gt;     y2               0.154      0.007    22.74    0.000</span></span>
<span><span class="co">#&gt;     y3               0.163      0.008    20.73    0.000</span></span>
<span><span class="co">#&gt;     X                0.972      0.032    30.84    0.000</span></span>
<span><span class="co">#&gt;     Z                1.017      0.038    26.66    0.000</span></span>
<span><span class="co">#&gt;     Y                0.984      0.036    27.12    0.000</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="interactions-between-two-observed-variables">Interactions Between Two Observed Variables<a class="anchor" aria-label="anchor" href="#interactions-between-two-observed-variables"></a>
</h3>
<p><code>modsem</code> allows you to estimate interactions between not
only latent variables but also observed variables. Below, we first run a
regression with only observed variables, where there is an interaction
between <code>x1</code> and <code>z2</code>, and then run an equivalent
model using <code><a href="../reference/modsem.html">modsem()</a></code>.</p>
<div class="section level4">
<h4 id="using-a-regression">Using a Regression<a class="anchor" aria-label="anchor" href="#using-a-regression"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reg1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y1</span> <span class="op">~</span> <span class="va">x1</span><span class="op">*</span><span class="va">z1</span>, <span class="va">oneInt</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">reg1</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = y1 ~ x1 * z1, data = oneInt)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -3.7155 -0.8087 -0.0367  0.8078  4.6531 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)  0.51422    0.04618  11.135   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; x1           0.05477    0.03387   1.617   0.1060    </span></span>
<span><span class="co">#&gt; z1          -0.06575    0.03461  -1.900   0.0576 .  </span></span>
<span><span class="co">#&gt; x1:z1        0.54361    0.02272  23.926   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 1.184 on 1996 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.4714, Adjusted R-squared:  0.4706 </span></span>
<span><span class="co">#&gt; F-statistic: 593.3 on 3 and 1996 DF,  p-value: &lt; 2.2e-16</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="using-modsem">Using <code>modsem</code><a class="anchor" aria-label="anchor" href="#using-modsem"></a>
</h4>
<p>When you have interactions between observed variables, it is
generally recommended to use <code>method = "pind"</code>. Interaction
effects with observed variables are not supported by the
<code>LMS</code> and <code>QML</code> approaches. In some cases, you can
define a latent variable with a single indicator to estimate the
interaction effect between two observed variables in the
<code>LMS</code> and <code>QML</code> approaches, but this is generally
not recommended.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using "pind" as the method (see Chapter 3)</span></span>
<span><span class="va">est2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="st">'y1 ~ x1 + z1 + x1:z1'</span>, data <span class="op">=</span> <span class="va">oneInt</span>, method <span class="op">=</span> <span class="st">"pind"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est2</span><span class="op">)</span></span>
<span><span class="co">#&gt; modsem (version 1.0.4, approach = pind):</span></span>
<span><span class="co">#&gt; lavaan 0.6-19 ended normally after 1 iteration</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Estimator                                         ML</span></span>
<span><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span><span class="co">#&gt;   Number of model parameters                         4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Number of observations                          2000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Test User Model:</span></span>
<span><span class="co">#&gt;                                                       </span></span>
<span><span class="co">#&gt;   Test statistic                                 0.000</span></span>
<span><span class="co">#&gt;   Degrees of freedom                                 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Estimates:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Standard errors                             Standard</span></span>
<span><span class="co">#&gt;   Information                                 Expected</span></span>
<span><span class="co">#&gt;   Information saturated (h1) model          Structured</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   y1 ~                                                </span></span>
<span><span class="co">#&gt;     x1                0.055    0.034    1.619    0.105</span></span>
<span><span class="co">#&gt;     z1               -0.066    0.035   -1.902    0.057</span></span>
<span><span class="co">#&gt;     x1z1              0.544    0.023   23.950    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;    .y1                1.399    0.044   31.623    0.000</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="interactions-between-latent-and-observed-variables">Interactions Between Latent and Observed Variables<a class="anchor" aria-label="anchor" href="#interactions-between-latent-and-observed-variables"></a>
</h3>
<p><code>modsem</code> also allows you to estimate interaction effects
between latent and observed variables. To do so, simply join a latent
and an observed variable with a colon (e.g.,
<code>'latent:observer'</code>). As with interactions between observed
variables, it is generally recommended to use
<code>method = "pind"</code> for estimating the effect between latent
and observed variables.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m3</span> <span class="op">&lt;-</span> <span class="st">'</span></span>
<span><span class="st">  # Outer Model</span></span>
<span><span class="st">  X =~ x1 + x2 + x3</span></span>
<span><span class="st">  Y =~ y1 + y2 + y3</span></span>
<span><span class="st">  </span></span>
<span><span class="st">  # Inner Model</span></span>
<span><span class="st">  Y ~ X + z1 + X:z1 </span></span>
<span><span class="st">'</span></span>
<span></span>
<span><span class="va">est3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">m3</span>, <span class="va">oneInt</span>, method <span class="op">=</span> <span class="st">"pind"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est3</span><span class="op">)</span></span>
<span><span class="co">#&gt; modsem (version 1.0.4, approach = pind):</span></span>
<span><span class="co">#&gt; lavaan 0.6-19 ended normally after 45 iterations</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Estimator                                         ML</span></span>
<span><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span><span class="co">#&gt;   Number of model parameters                        22</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Number of observations                          2000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Test User Model:</span></span>
<span><span class="co">#&gt;                                                       </span></span>
<span><span class="co">#&gt;   Test statistic                              4468.171</span></span>
<span><span class="co">#&gt;   Degrees of freedom                                32</span></span>
<span><span class="co">#&gt;   P-value (Chi-square)                           0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Estimates:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Standard errors                             Standard</span></span>
<span><span class="co">#&gt;   Information                                 Expected</span></span>
<span><span class="co">#&gt;   Information saturated (h1) model          Structured</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Latent Variables:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   X =~                                                </span></span>
<span><span class="co">#&gt;     x1                1.000                           </span></span>
<span><span class="co">#&gt;     x2                0.803    0.013   63.697    0.000</span></span>
<span><span class="co">#&gt;     x3                0.915    0.014   67.548    0.000</span></span>
<span><span class="co">#&gt;   Y =~                                                </span></span>
<span><span class="co">#&gt;     y1                1.000                           </span></span>
<span><span class="co">#&gt;     y2                0.798    0.007  115.375    0.000</span></span>
<span><span class="co">#&gt;     y3                0.899    0.007  120.783    0.000</span></span>
<span><span class="co">#&gt;   Xz1 =~                                              </span></span>
<span><span class="co">#&gt;     x1z1              1.000                           </span></span>
<span><span class="co">#&gt;     x2z1              0.947    0.010   96.034    0.000</span></span>
<span><span class="co">#&gt;     x3z1              0.902    0.009   99.512    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   Y ~                                                 </span></span>
<span><span class="co">#&gt;     X                 0.021    0.034    0.614    0.540</span></span>
<span><span class="co">#&gt;     z1               -0.185    0.023   -8.096    0.000</span></span>
<span><span class="co">#&gt;     Xz1               0.646    0.017   37.126    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Covariances:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   X ~~                                                </span></span>
<span><span class="co">#&gt;     Xz1               1.243    0.055   22.523    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;    .x1                0.158    0.009   17.976    0.000</span></span>
<span><span class="co">#&gt;    .x2                0.164    0.007   23.216    0.000</span></span>
<span><span class="co">#&gt;    .x3                0.162    0.008   20.325    0.000</span></span>
<span><span class="co">#&gt;    .y1                0.158    0.009   17.819    0.000</span></span>
<span><span class="co">#&gt;    .y2                0.154    0.007   22.651    0.000</span></span>
<span><span class="co">#&gt;    .y3                0.164    0.008   20.744    0.000</span></span>
<span><span class="co">#&gt;    .x1z1              0.315    0.017   18.328    0.000</span></span>
<span><span class="co">#&gt;    .x2z1              0.428    0.019   22.853    0.000</span></span>
<span><span class="co">#&gt;    .x3z1              0.337    0.016   21.430    0.000</span></span>
<span><span class="co">#&gt;     X                 0.982    0.036   26.947    0.000</span></span>
<span><span class="co">#&gt;    .Y                 1.112    0.040   27.710    0.000</span></span>
<span><span class="co">#&gt;     Xz1               3.965    0.136   29.217    0.000</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="quadratic-effects">Quadratic Effects<a class="anchor" aria-label="anchor" href="#quadratic-effects"></a>
</h3>
<p>Quadratic effects are essentially a special case of interaction
effects. Thus, <code>modsem</code> can also be used to estimate
quadratic effects.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m4</span> <span class="op">&lt;-</span> <span class="st">'</span></span>
<span><span class="st"># Outer Model</span></span>
<span><span class="st">X =~ x1 + x2 + x3</span></span>
<span><span class="st">Y =~ y1 + y2 + y3</span></span>
<span><span class="st">Z =~ z1 + z2 + z3</span></span>
<span><span class="st"></span></span>
<span><span class="st"># Inner Model</span></span>
<span><span class="st">Y ~ X + Z + Z:X + X:X</span></span>
<span><span class="st">'</span></span>
<span></span>
<span><span class="va">est4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">m4</span>, <span class="va">oneInt</span>, method <span class="op">=</span> <span class="st">"qml"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est4</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; modsem (version 1.0.4):</span></span>
<span><span class="co">#&gt;   Estimator                                         QML</span></span>
<span><span class="co">#&gt;   Optimization method                            NLMINB</span></span>
<span><span class="co">#&gt;   Number of observations                           2000</span></span>
<span><span class="co">#&gt;   Number of iterations                              123</span></span>
<span><span class="co">#&gt;   Loglikelihood                                -17496.2</span></span>
<span><span class="co">#&gt;   Akaike (AIC)                                  35056.4</span></span>
<span><span class="co">#&gt;   Bayesian (BIC)                               35235.63</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Fit Measures for H0:</span></span>
<span><span class="co">#&gt;   Loglikelihood                                  -17832</span></span>
<span><span class="co">#&gt;   Akaike (AIC)                                 35723.75</span></span>
<span><span class="co">#&gt;   Bayesian (BIC)                               35891.78</span></span>
<span><span class="co">#&gt;   Chi-square                                      17.52</span></span>
<span><span class="co">#&gt;   Degrees of Freedom (Chi-square)                    24</span></span>
<span><span class="co">#&gt;   P-value (Chi-square)                            0.826</span></span>
<span><span class="co">#&gt;   RMSEA                                           0.000</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Comparative fit to H0 (no interaction effect)</span></span>
<span><span class="co">#&gt;   Loglikelihood change                           335.68</span></span>
<span><span class="co">#&gt;   Difference test (D)                            671.35</span></span>
<span><span class="co">#&gt;   Degrees of freedom (D)                              2</span></span>
<span><span class="co">#&gt;   P-value (D)                                     0.000</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; R-Squared:</span></span>
<span><span class="co">#&gt;   Y                                               0.607</span></span>
<span><span class="co">#&gt; R-Squared Null-Model (H0):</span></span>
<span><span class="co">#&gt;   Y                                               0.395</span></span>
<span><span class="co">#&gt; R-Squared Change:</span></span>
<span><span class="co">#&gt;   Y                                               0.212</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Estimates:</span></span>
<span><span class="co">#&gt;   Coefficients                           unstandardized</span></span>
<span><span class="co">#&gt;   Information                                  observed</span></span>
<span><span class="co">#&gt;   Standard errors                              standard</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Latent Variables:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   X =~ </span></span>
<span><span class="co">#&gt;     x1               1.000                             </span></span>
<span><span class="co">#&gt;     x2               0.803      0.013   63.961    0.000</span></span>
<span><span class="co">#&gt;     x3               0.914      0.013   67.797    0.000</span></span>
<span><span class="co">#&gt;   Z =~ </span></span>
<span><span class="co">#&gt;     z1               1.000                             </span></span>
<span><span class="co">#&gt;     z2               0.810      0.012   65.124    0.000</span></span>
<span><span class="co">#&gt;     z3               0.881      0.013   67.621    0.000</span></span>
<span><span class="co">#&gt;   Y =~ </span></span>
<span><span class="co">#&gt;     y1               1.000                             </span></span>
<span><span class="co">#&gt;     y2               0.798      0.007  107.567    0.000</span></span>
<span><span class="co">#&gt;     y3               0.899      0.008  112.542    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   Y ~ </span></span>
<span><span class="co">#&gt;     X                0.674      0.032   20.888    0.000</span></span>
<span><span class="co">#&gt;     Z                0.566      0.030   18.948    0.000</span></span>
<span><span class="co">#&gt;     X:X             -0.005      0.023   -0.207    0.836</span></span>
<span><span class="co">#&gt;     X:Z              0.713      0.029   24.554    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Intercepts:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;     x1               1.023      0.024   42.894    0.000</span></span>
<span><span class="co">#&gt;     x2               1.216      0.020   60.996    0.000</span></span>
<span><span class="co">#&gt;     x3               0.919      0.022   41.484    0.000</span></span>
<span><span class="co">#&gt;     z1               1.012      0.024   41.576    0.000</span></span>
<span><span class="co">#&gt;     z2               1.206      0.020   59.271    0.000</span></span>
<span><span class="co">#&gt;     z3               0.916      0.022   42.063    0.000</span></span>
<span><span class="co">#&gt;     y1               1.042      0.038   27.684    0.000</span></span>
<span><span class="co">#&gt;     y2               1.224      0.030   40.159    0.000</span></span>
<span><span class="co">#&gt;     y3               0.958      0.034   28.101    0.000</span></span>
<span><span class="co">#&gt;     Y                0.000                             </span></span>
<span><span class="co">#&gt;     X                0.000                             </span></span>
<span><span class="co">#&gt;     Z                0.000                             </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Covariances:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   X ~~ </span></span>
<span><span class="co">#&gt;     Z                0.200      0.024    8.239    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;     x1               0.158      0.009   18.145    0.000</span></span>
<span><span class="co">#&gt;     x2               0.162      0.007   23.188    0.000</span></span>
<span><span class="co">#&gt;     x3               0.165      0.008   20.821    0.000</span></span>
<span><span class="co">#&gt;     z1               0.166      0.009   18.341    0.000</span></span>
<span><span class="co">#&gt;     z2               0.159      0.007   22.622    0.000</span></span>
<span><span class="co">#&gt;     z3               0.158      0.008   20.714    0.000</span></span>
<span><span class="co">#&gt;     y1               0.159      0.009   17.975    0.000</span></span>
<span><span class="co">#&gt;     y2               0.154      0.007   22.670    0.000</span></span>
<span><span class="co">#&gt;     y3               0.164      0.008   20.711    0.000</span></span>
<span><span class="co">#&gt;     X                0.983      0.036   26.994    0.000</span></span>
<span><span class="co">#&gt;     Z                1.019      0.038   26.951    0.000</span></span>
<span><span class="co">#&gt;     Y                0.943      0.038   24.820    0.000</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="more-complicated-examples">More Complicated Examples<a class="anchor" aria-label="anchor" href="#more-complicated-examples"></a>
</h3>
<p>Here is a more complex example using the theory of planned behavior
(TPB) model.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tpb</span> <span class="op">&lt;-</span> <span class="st">' </span></span>
<span><span class="st"># Outer Model (Based on Hagger et al., 2007)</span></span>
<span><span class="st">  ATT =~ att1 + att2 + att3 + att4 + att5</span></span>
<span><span class="st">  SN =~ sn1 + sn2</span></span>
<span><span class="st">  PBC =~ pbc1 + pbc2 + pbc3</span></span>
<span><span class="st">  INT =~ int1 + int2 + int3</span></span>
<span><span class="st">  BEH =~ b1 + b2</span></span>
<span><span class="st"></span></span>
<span><span class="st"># Inner Model (Based on Steinmetz et al., 2011)</span></span>
<span><span class="st">  INT ~ ATT + SN + PBC</span></span>
<span><span class="st">  BEH ~ INT + PBC + INT:PBC  </span></span>
<span><span class="st">'</span></span>
<span></span>
<span><span class="co"># The double-centering approach</span></span>
<span><span class="va">est_tpb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">tpb</span>, <span class="va">TPB</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Using the LMS approach</span></span>
<span><span class="va">est_tpb_lms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">tpb</span>, <span class="va">TPB</span>, method <span class="op">=</span> <span class="st">"lms"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: It is recommended that you have at least 32 nodes for interaction</span></span>
<span><span class="co">#&gt; effects between exogenous and endogenous variables in the lms approach 'nodes =</span></span>
<span><span class="co">#&gt; 24'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est_tpb_lms</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; modsem (version 1.0.4):</span></span>
<span><span class="co">#&gt;   Estimator                                         LMS</span></span>
<span><span class="co">#&gt;   Optimization method                         EM-NLMINB</span></span>
<span><span class="co">#&gt;   Number of observations                           2000</span></span>
<span><span class="co">#&gt;   Number of iterations                              103</span></span>
<span><span class="co">#&gt;   Loglikelihood                               -23463.37</span></span>
<span><span class="co">#&gt;   Akaike (AIC)                                 47034.74</span></span>
<span><span class="co">#&gt;   Bayesian (BIC)                               47337.19</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Numerical Integration:</span></span>
<span><span class="co">#&gt;   Points of integration (per dim)                    24</span></span>
<span><span class="co">#&gt;   Dimensions                                          1</span></span>
<span><span class="co">#&gt;   Total points of integration                        24</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Fit Measures for H0:</span></span>
<span><span class="co">#&gt;   Loglikelihood                                  -26393</span></span>
<span><span class="co">#&gt;   Akaike (AIC)                                 52892.45</span></span>
<span><span class="co">#&gt;   Bayesian (BIC)                               53189.29</span></span>
<span><span class="co">#&gt;   Chi-square                                      66.27</span></span>
<span><span class="co">#&gt;   Degrees of Freedom (Chi-square)                    82</span></span>
<span><span class="co">#&gt;   P-value (Chi-square)                            0.897</span></span>
<span><span class="co">#&gt;   RMSEA                                           0.000</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Comparative fit to H0 (no interaction effect)</span></span>
<span><span class="co">#&gt;   Loglikelihood change                          2929.85</span></span>
<span><span class="co">#&gt;   Difference test (D)                           5859.70</span></span>
<span><span class="co">#&gt;   Degrees of freedom (D)                              1</span></span>
<span><span class="co">#&gt;   P-value (D)                                     0.000</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; R-Squared:</span></span>
<span><span class="co">#&gt;   INT                                             0.361</span></span>
<span><span class="co">#&gt;   BEH                                             0.248</span></span>
<span><span class="co">#&gt; R-Squared Null-Model (H0):</span></span>
<span><span class="co">#&gt;   INT                                             0.367</span></span>
<span><span class="co">#&gt;   BEH                                             0.210</span></span>
<span><span class="co">#&gt; R-Squared Change:</span></span>
<span><span class="co">#&gt;   INT                                            -0.006</span></span>
<span><span class="co">#&gt;   BEH                                             0.038</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Estimates:</span></span>
<span><span class="co">#&gt;   Coefficients                           unstandardized</span></span>
<span><span class="co">#&gt;   Information                                  expected</span></span>
<span><span class="co">#&gt;   Standard errors                              standard</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Latent Variables:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   PBC =~ </span></span>
<span><span class="co">#&gt;     pbc1             1.000                             </span></span>
<span><span class="co">#&gt;     pbc2             0.911      0.013    67.91    0.000</span></span>
<span><span class="co">#&gt;     pbc3             0.802      0.012    65.67    0.000</span></span>
<span><span class="co">#&gt;   ATT =~ </span></span>
<span><span class="co">#&gt;     att1             1.000                             </span></span>
<span><span class="co">#&gt;     att2             0.877      0.012    71.32    0.000</span></span>
<span><span class="co">#&gt;     att3             0.789      0.012    65.69    0.000</span></span>
<span><span class="co">#&gt;     att4             0.695      0.011    60.84    0.000</span></span>
<span><span class="co">#&gt;     att5             0.887      0.013    70.49    0.000</span></span>
<span><span class="co">#&gt;   SN =~ </span></span>
<span><span class="co">#&gt;     sn1              1.000                             </span></span>
<span><span class="co">#&gt;     sn2              0.889      0.017    51.79    0.000</span></span>
<span><span class="co">#&gt;   INT =~ </span></span>
<span><span class="co">#&gt;     int1             1.000                             </span></span>
<span><span class="co">#&gt;     int2             0.913      0.015    59.42    0.000</span></span>
<span><span class="co">#&gt;     int3             0.807      0.014    55.75    0.000</span></span>
<span><span class="co">#&gt;   BEH =~ </span></span>
<span><span class="co">#&gt;     b1               1.000                             </span></span>
<span><span class="co">#&gt;     b2               0.961      0.030    31.82    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   INT ~ </span></span>
<span><span class="co">#&gt;     PBC              0.217      0.030     7.29    0.000</span></span>
<span><span class="co">#&gt;     ATT              0.213      0.026     8.28    0.000</span></span>
<span><span class="co">#&gt;     SN               0.177      0.028     6.34    0.000</span></span>
<span><span class="co">#&gt;   BEH ~ </span></span>
<span><span class="co">#&gt;     PBC              0.228      0.023    10.06    0.000</span></span>
<span><span class="co">#&gt;     INT              0.182      0.025     7.37    0.000</span></span>
<span><span class="co">#&gt;     PBC:INT          0.204      0.019    10.98    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Intercepts:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;     pbc1             0.959      0.019    50.31    0.000</span></span>
<span><span class="co">#&gt;     pbc2             0.950      0.018    53.08    0.000</span></span>
<span><span class="co">#&gt;     pbc3             0.960      0.016    59.11    0.000</span></span>
<span><span class="co">#&gt;     att1             0.987      0.022    44.10    0.000</span></span>
<span><span class="co">#&gt;     att2             0.983      0.020    49.45    0.000</span></span>
<span><span class="co">#&gt;     att3             0.995      0.018    54.27    0.000</span></span>
<span><span class="co">#&gt;     att4             0.980      0.017    58.41    0.000</span></span>
<span><span class="co">#&gt;     att5             0.969      0.020    48.14    0.000</span></span>
<span><span class="co">#&gt;     sn1              0.979      0.023    43.04    0.000</span></span>
<span><span class="co">#&gt;     sn2              0.987      0.020    48.23    0.000</span></span>
<span><span class="co">#&gt;     int1             0.995      0.022    46.17    0.000</span></span>
<span><span class="co">#&gt;     int2             0.995      0.020    49.49    0.000</span></span>
<span><span class="co">#&gt;     int3             0.990      0.018    53.60    0.000</span></span>
<span><span class="co">#&gt;     b1               0.989      0.022    45.86    0.000</span></span>
<span><span class="co">#&gt;     b2               1.008      0.020    50.01    0.000</span></span>
<span><span class="co">#&gt;     INT              0.000                             </span></span>
<span><span class="co">#&gt;     BEH              0.000                             </span></span>
<span><span class="co">#&gt;     PBC              0.000                             </span></span>
<span><span class="co">#&gt;     ATT              0.000                             </span></span>
<span><span class="co">#&gt;     SN               0.000                             </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Covariances:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   PBC ~~ </span></span>
<span><span class="co">#&gt;     ATT              0.658      0.025    25.84    0.000</span></span>
<span><span class="co">#&gt;     SN               0.657      0.026    25.04    0.000</span></span>
<span><span class="co">#&gt;   ATT ~~ </span></span>
<span><span class="co">#&gt;     SN               0.616      0.027    22.54    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;     pbc1             0.147      0.008    19.39    0.000</span></span>
<span><span class="co">#&gt;     pbc2             0.164      0.007    22.22    0.000</span></span>
<span><span class="co">#&gt;     pbc3             0.154      0.006    24.15    0.000</span></span>
<span><span class="co">#&gt;     att1             0.167      0.007    23.38    0.000</span></span>
<span><span class="co">#&gt;     att2             0.150      0.006    24.30    0.000</span></span>
<span><span class="co">#&gt;     att3             0.159      0.006    26.67    0.000</span></span>
<span><span class="co">#&gt;     att4             0.163      0.006    27.66    0.000</span></span>
<span><span class="co">#&gt;     att5             0.159      0.006    24.78    0.000</span></span>
<span><span class="co">#&gt;     sn1              0.178      0.015    12.12    0.000</span></span>
<span><span class="co">#&gt;     sn2              0.156      0.012    13.00    0.000</span></span>
<span><span class="co">#&gt;     int1             0.157      0.009    18.18    0.000</span></span>
<span><span class="co">#&gt;     int2             0.160      0.008    20.21    0.000</span></span>
<span><span class="co">#&gt;     int3             0.168      0.007    23.39    0.000</span></span>
<span><span class="co">#&gt;     b1               0.186      0.019    10.00    0.000</span></span>
<span><span class="co">#&gt;     b2               0.135      0.017     8.03    0.000</span></span>
<span><span class="co">#&gt;     PBC              0.933      0.030    31.16    0.000</span></span>
<span><span class="co">#&gt;     ATT              0.985      0.035    27.94    0.000</span></span>
<span><span class="co">#&gt;     SN               0.974      0.038    25.45    0.000</span></span>
<span><span class="co">#&gt;     INT              0.491      0.020    24.40    0.000</span></span>
<span><span class="co">#&gt;     BEH              0.456      0.022    20.28    0.000</span></span></code></pre></div>
<p>Here is an example that includes two quadratic effects and one
interaction effect, using the <code>jordan</code> dataset. The dataset
is a subset of the PISA 2006 dataset.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="st">'</span></span>
<span><span class="st">ENJ =~ enjoy1 + enjoy2 + enjoy3 + enjoy4 + enjoy5</span></span>
<span><span class="st">CAREER =~ career1 + career2 + career3 + career4</span></span>
<span><span class="st">SC =~ academic1 + academic2 + academic3 + academic4 + academic5 + academic6</span></span>
<span><span class="st">CAREER ~ ENJ + SC + ENJ:ENJ + SC:SC + ENJ:SC</span></span>
<span><span class="st">'</span></span>
<span></span>
<span><span class="va">est_jordan</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">m2</span>, data <span class="op">=</span> <span class="va">jordan</span><span class="op">)</span></span>
<span><span class="va">est_jordan_qml</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">m2</span>, data <span class="op">=</span> <span class="va">jordan</span>, method <span class="op">=</span> <span class="st">"qml"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est_jordan_qml</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; modsem (version 1.0.4):</span></span>
<span><span class="co">#&gt;   Estimator                                         QML</span></span>
<span><span class="co">#&gt;   Optimization method                            NLMINB</span></span>
<span><span class="co">#&gt;   Number of observations                           6038</span></span>
<span><span class="co">#&gt;   Number of iterations                              101</span></span>
<span><span class="co">#&gt;   Loglikelihood                              -110520.22</span></span>
<span><span class="co">#&gt;   Akaike (AIC)                                221142.45</span></span>
<span><span class="co">#&gt;   Bayesian (BIC)                              221484.44</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Fit Measures for H0:</span></span>
<span><span class="co">#&gt;   Loglikelihood                                 -110521</span></span>
<span><span class="co">#&gt;   Akaike (AIC)                                221138.58</span></span>
<span><span class="co">#&gt;   Bayesian (BIC)                              221460.46</span></span>
<span><span class="co">#&gt;   Chi-square                                    1016.34</span></span>
<span><span class="co">#&gt;   Degrees of Freedom (Chi-square)                    87</span></span>
<span><span class="co">#&gt;   P-value (Chi-square)                            0.000</span></span>
<span><span class="co">#&gt;   RMSEA                                           0.005</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Comparative fit to H0 (no interaction effect)</span></span>
<span><span class="co">#&gt;   Loglikelihood change                             1.07</span></span>
<span><span class="co">#&gt;   Difference test (D)                              2.13</span></span>
<span><span class="co">#&gt;   Degrees of freedom (D)                              3</span></span>
<span><span class="co">#&gt;   P-value (D)                                     0.546</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; R-Squared:</span></span>
<span><span class="co">#&gt;   CAREER                                          0.512</span></span>
<span><span class="co">#&gt; R-Squared Null-Model (H0):</span></span>
<span><span class="co">#&gt;   CAREER                                          0.510</span></span>
<span><span class="co">#&gt; R-Squared Change:</span></span>
<span><span class="co">#&gt;   CAREER                                          0.002</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Estimates:</span></span>
<span><span class="co">#&gt;   Coefficients                           unstandardized</span></span>
<span><span class="co">#&gt;   Information                                  observed</span></span>
<span><span class="co">#&gt;   Standard errors                              standard</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Latent Variables:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   ENJ =~ </span></span>
<span><span class="co">#&gt;     enjoy1           1.000                             </span></span>
<span><span class="co">#&gt;     enjoy2           1.002      0.020   50.587    0.000</span></span>
<span><span class="co">#&gt;     enjoy3           0.894      0.020   43.669    0.000</span></span>
<span><span class="co">#&gt;     enjoy4           0.999      0.021   48.227    0.000</span></span>
<span><span class="co">#&gt;     enjoy5           1.047      0.021   50.400    0.000</span></span>
<span><span class="co">#&gt;   SC =~ </span></span>
<span><span class="co">#&gt;     academic1        1.000                             </span></span>
<span><span class="co">#&gt;     academic2        1.104      0.028   38.946    0.000</span></span>
<span><span class="co">#&gt;     academic3        1.235      0.030   41.720    0.000</span></span>
<span><span class="co">#&gt;     academic4        1.254      0.030   41.828    0.000</span></span>
<span><span class="co">#&gt;     academic5        1.113      0.029   38.647    0.000</span></span>
<span><span class="co">#&gt;     academic6        1.198      0.030   40.356    0.000</span></span>
<span><span class="co">#&gt;   CAREER =~ </span></span>
<span><span class="co">#&gt;     career1          1.000                             </span></span>
<span><span class="co">#&gt;     career2          1.040      0.016   65.180    0.000</span></span>
<span><span class="co">#&gt;     career3          0.952      0.016   57.838    0.000</span></span>
<span><span class="co">#&gt;     career4          0.818      0.017   48.358    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   CAREER ~ </span></span>
<span><span class="co">#&gt;     ENJ              0.523      0.020   26.286    0.000</span></span>
<span><span class="co">#&gt;     SC               0.467      0.023   19.884    0.000</span></span>
<span><span class="co">#&gt;     ENJ:ENJ          0.026      0.022    1.206    0.228</span></span>
<span><span class="co">#&gt;     ENJ:SC          -0.039      0.046   -0.851    0.395</span></span>
<span><span class="co">#&gt;     SC:SC           -0.002      0.035   -0.058    0.953</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Intercepts:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;     enjoy1           0.000      0.013   -0.008    0.994</span></span>
<span><span class="co">#&gt;     enjoy2           0.000      0.015    0.010    0.992</span></span>
<span><span class="co">#&gt;     enjoy3           0.000      0.013   -0.023    0.982</span></span>
<span><span class="co">#&gt;     enjoy4           0.000      0.014    0.008    0.993</span></span>
<span><span class="co">#&gt;     enjoy5           0.000      0.014    0.025    0.980</span></span>
<span><span class="co">#&gt;     academic1        0.000      0.016   -0.009    0.993</span></span>
<span><span class="co">#&gt;     academic2        0.000      0.014   -0.009    0.993</span></span>
<span><span class="co">#&gt;     academic3        0.000      0.015   -0.028    0.978</span></span>
<span><span class="co">#&gt;     academic4        0.000      0.016   -0.015    0.988</span></span>
<span><span class="co">#&gt;     academic5       -0.001      0.014   -0.044    0.965</span></span>
<span><span class="co">#&gt;     academic6        0.001      0.015    0.048    0.962</span></span>
<span><span class="co">#&gt;     career1         -0.004      0.017   -0.204    0.838</span></span>
<span><span class="co">#&gt;     career2         -0.004      0.018   -0.248    0.804</span></span>
<span><span class="co">#&gt;     career3         -0.004      0.017   -0.214    0.830</span></span>
<span><span class="co">#&gt;     career4         -0.004      0.016   -0.232    0.816</span></span>
<span><span class="co">#&gt;     CAREER           0.000                             </span></span>
<span><span class="co">#&gt;     ENJ              0.000                             </span></span>
<span><span class="co">#&gt;     SC               0.000                             </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Covariances:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;   ENJ ~~ </span></span>
<span><span class="co">#&gt;     SC               0.218      0.009   25.477    0.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                   Estimate  Std.Error  z.value  P(&gt;|z|)</span></span>
<span><span class="co">#&gt;     enjoy1           0.487      0.011   44.335    0.000</span></span>
<span><span class="co">#&gt;     enjoy2           0.488      0.011   44.406    0.000</span></span>
<span><span class="co">#&gt;     enjoy3           0.596      0.012   48.233    0.000</span></span>
<span><span class="co">#&gt;     enjoy4           0.488      0.011   44.561    0.000</span></span>
<span><span class="co">#&gt;     enjoy5           0.442      0.010   42.470    0.000</span></span>
<span><span class="co">#&gt;     academic1        0.645      0.013   49.813    0.000</span></span>
<span><span class="co">#&gt;     academic2        0.566      0.012   47.864    0.000</span></span>
<span><span class="co">#&gt;     academic3        0.473      0.011   44.319    0.000</span></span>
<span><span class="co">#&gt;     academic4        0.455      0.010   43.579    0.000</span></span>
<span><span class="co">#&gt;     academic5        0.565      0.012   47.695    0.000</span></span>
<span><span class="co">#&gt;     academic6        0.502      0.011   45.434    0.000</span></span>
<span><span class="co">#&gt;     career1          0.373      0.009   40.392    0.000</span></span>
<span><span class="co">#&gt;     career2          0.328      0.009   37.019    0.000</span></span>
<span><span class="co">#&gt;     career3          0.436      0.010   43.272    0.000</span></span>
<span><span class="co">#&gt;     career4          0.576      0.012   48.372    0.000</span></span>
<span><span class="co">#&gt;     ENJ              0.500      0.017   29.547    0.000</span></span>
<span><span class="co">#&gt;     SC               0.338      0.015   23.195    0.000</span></span>
<span><span class="co">#&gt;     CAREER           0.302      0.010   29.711    0.000</span></span></code></pre></div>
<p><strong>Note</strong>: Other approaches also work but may be quite
slow depending on the number of interaction effects, particularly for
the <code>LMS</code> and constrained approaches.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kjell Solem Slupphaug.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
